	/**
  ******************************************************************************
  * @file           : Common_Functions.h
  * @brief          : Common Functions and Typedefs header file
  ******************************************************************************
  * @attention
  *
  * (c) 2024 Uniovi E-tech Racing.
  * 
  *
  ******************************************************************************  
  ******************************************************************************
																Version Control
	******************************************************************************
	******************************************************************************		
  Version | dd mmm yyyy |       Who        | Description of changes
  ========|=============|==================|====================================
    1.0   | 01 MAR 2023 | Diego Rodríguez  | Creation
	========|=============|==================|====================================
	
  ******************************************************************************
  ******************************************************************************
  */

#ifndef COMMON_FUNCTIONS_H
#define COMMON_FUNCTIONS_H

/*******************************************************************************
********************************************************************************
***************						  			 	INCLUDES					  					***************
********************************************************************************
*******************************************************************************/
#include <stdio.h>



/*******************************************************************************
********************************************************************************
***************								  	BoolTypeDef                    ***************
********************************************************************************
*******************************************************************************/
//Identifica: 0->False y 1 ->True
typedef enum
{
	FALSE,
	TRUE
} BoolTypeDef;


/*******************************************************************************
********************************************************************************
***************									TIMER RANGE                      ***************
********************************************************************************
*******************************************************************************/
typedef enum
{
	MILISECONDS,
	SECONDS,
} TimerRange_TypeDef;



/*******************************************************************************
********************************************************************************
***************									TIMER 1 STRUCTURE                ***************
********************************************************************************
*******************************************************************************/
typedef struct
{
	BoolTypeDef          Enabled;
	BoolTypeDef          Overflowed;
	unsigned int					Mili_Seconds_Counter;
	unsigned char		 			Seconds_Counter;
	unsigned char		     Period;
	unsigned short int	 Overflowed_Counter;
	unsigned short int	 Time;
	TimerRange_TypeDef   Range;
} Timer_10ms_TypeDef;


/*******************************************************************************
********************************************************************************
***************									TIMER FUNCTIONS                  ***************
********************************************************************************
*******************************************************************************/
void Timer_10ms_Reset	(Timer_10ms_TypeDef* Timer);
void Timer_10ms_Tick (Timer_10ms_TypeDef* Timer);
void Timer_10ms_Start(Timer_10ms_TypeDef* Timer);
void Timer_10ms_Restart(Timer_10ms_TypeDef* Timer);
void Timer_10ms_Stop(Timer_10ms_TypeDef* Timer);
void Timer_10ms_Change_Timing(Timer_10ms_TypeDef* Timer,unsigned  int timing);
void Timer_10ms_Init(Timer_10ms_TypeDef* Timer, unsigned short int period, TimerRange_TypeDef range, unsigned int timing);



/*******************************************************************************
********************************************************************************
***************						BIT WORKING			         ***************
********************************************************************************
*******************************************************************************/
#define BIT(x) 				(1 << (x))
#define SETBITS(x,y) 		((x) |= (y))
#define CLEARBITS(x,y) 		((x) &= (~(y)))
#define SETBIT(x,y) 		SETBITS((x), (BIT((y))))
#define CLEARBIT(x,y) 		CLEARBITS((x), (BIT((y))))
#define BITSET(x,y) 		((x) & (BIT(y)))
#define BITCLEAR(x,y) 		!BITSET((x), (y))
#define BITSSET(x,y) 		(((x) & (y)) == (y))
#define BITSCLEAR(x,y) 		(((x) & (y)) == 0)
#define BITVAL(x,y) 		(((x)>>(y)) & 1)


/*******************************************************************************
********************************************************************************
***************					               ROUND                     ***************
********************************************************************************
*******************************************************************************/
unsigned char		Round				(float value);
unsigned char		Round_High			(float value);

#endif 
	/*****************************************************************************
	** 																END OF FILE																**			
	******************************************************************************
	******************************************************************************
  ******************************************************************************
  * @file           : Common_Functions.h
  * @brief          : Common Functions and Typedefs header file
  ******************************************************************************
  * @attention
  *
  * (c) 2024 Uniovi E-tech Racing.
  * 
  *
  ******************************************************************************  
  ******************************************************************************
																Version Control
	******************************************************************************
	******************************************************************************		
  Version | dd mmm yyyy |       Who        | Description of changes
  ========|=============|==================|====================================
    1.0   | 01 MAR 2023 | Diego Rodríguez  | Creation
	========|=============|==================|====================================
	
  ******************************************************************************
  ******************************************************************************
*/

